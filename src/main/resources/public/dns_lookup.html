<!DOCTYPE html>
<html>
<head>
    <title>DNS Lookup</title>
    <link rel="stylesheet" href="/css/common.css">
</head>
<body>

<div class="card">
    <h2>DNS Lookup</h2>

    <input id="name" placeholder="example.com">
    <input id="type" placeholder="A">

    <button onclick="lookup()">Lookup</button>
    <pre id="result" class="alert"></pre>
</div>

<script>
    async function lookup() {
        const res = await fetch(`/dns/lookup?name=${encodeURIComponent(name.value)}&type=${encodeURIComponent(type.value)}`);
        const data = await res.json();

        const box = document.getElementById("result");
        if (data.error) {
            box.className = "alert error";
            box.textContent = data.error;
        } else {
            box.className = "alert success";
            box.textContent = JSON.stringify(data.result, null, 2);
            console.log(data)
        }
        box.style.display = "block";
    }
</script>

</body>
</html>
